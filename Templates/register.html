{% extends 'base.html' %}
{% load static %}
{% block body %}
    <br/><br/><br/><br/><br/>
    <section class="ttm-row contact-form-section2 bg-layer break-991-colum clearfix">
        <div class="container">
            <div class="row g-0">
                <div class="col-12">
                    <div class="padding-12 box-shadow">
                        <div class="section-title mb-30">
                            <h3 class="title">Registration</h3>
                        </div>
                        <form id="contactform" class="row contactform wrap-form clearfix" method="POST" action="{% url 'register' %}" novalidate="novalidate">
                            {% csrf_token %}
                            <label class="col-md-6">
                                <i class="ti ti-user"></i>
                                <span class="ttm-form-control">
                                    <input class="text-input" name="username" type="text" value="{{ form.username.value|default_if_none:''}}" placeholder="Your Name:*" >
                                </span>
                            </label>
                            <label class="col-md-6">
                                <i class="ti ti-email"></i>
                                <span class="ttm-form-control">
                                    <input class="text-input" name="email" type="email" value="{{ form.email.value|default_if_none:''}}" placeholder="Your email-id:*" >
                                </span>
                            </label>
                            <label class="col-md-6">
                                <i class="ti ti-lock"></i>
                                <span class="ttm-form-control">
                                    <input class="text-input" name="password" type="password" value="" placeholder="Password" required="required">
                                </span>
                            </label>
                            <label class="col-md-6">
                                <i class="ti ti-lock"></i>
                                <span class="ttm-form-control">
                                    <input class="text-input" name="password_confirm" type="password" value="" placeholder="Confirm Password" required="required">
                                </span>
                            </label>
                            <input name="submit" type="submit" value="Register Now" class="ttm-btn ttm-btn-size-md ttm-btn-shape-round ttm-btn-style-fill ttm-btn-color-skincolor mt-20" id="submit" title="Register Now">
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="modal fade" id="errorModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Error</h5>
                </div>
                <div class="modal-body">
                    {% for message in messages %}<p>{{ message }}</p>{% endfor %}
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        $(document).ready(function() {
            {% if messages %}
                var errorModal = new bootstrap.Modal(document.getElementById('errorModal'));
                errorModal.show();
                setTimeout(() => errorModal.hide(), 5000);
            {% endif %}
        });
    </script>
{% endblock %}
